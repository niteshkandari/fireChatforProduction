{"version":3,"sources":["firebaseAuth.js","components/ChatMessage.jsx","components/ChatRoom.jsx","components/SignIn.jsx","components/SignOut.jsx","App.jsx","index.js"],"names":["authFire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","ChatMessage","message","text","uid","photoURL","messageClass","currentUser","className","src","alt","firestore","ChatRoom","scrollerRef","React","useRef","messagesRef","collection","query","orderBy","limit","useCollectionData","idField","messages","useState","formValue","setFormValue","sendMessage","e","a","preventDefault","add","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","map","msg","idx","Math","floor","random","id","ref","onSubmit","value","placeholder","onChange","target","type","disabled","SignIn","onClick","provider","GoogleAuthProvider","signInWithPopup","SignOut","signOut","App","useAuthState","user","ReactDOM","render","document","getElementById"],"mappings":"qQAYiBA,E,MAVAC,EAASC,cAAc,CACpCC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iB,QCNbC,EAAOV,EAASC,SAASS,OAahBC,EAXK,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACVC,EAAwBD,EAAxBC,KAAMC,EAAkBF,EAAlBE,IAAKC,EAAaH,EAAbG,SACbC,EAAeF,IAAQJ,EAAKO,YAAYH,IAAM,OAAS,WAC7D,OACE,sBAAKI,UAAS,kBAAaF,GAA3B,UACE,qBAAKG,IAAKJ,EAAUK,IAAK,UACzB,4BAAIP,QCHNH,EAAOV,EAASC,SAASS,OACzBW,EAAYrB,EAASC,SAASoB,YA+CnBC,EA7CA,WACb,IAAMC,EAAcC,IAAMC,SACpBC,EAAcL,EAAUM,WAAW,gBACnCC,EAAQF,EAAYG,QAAQ,aAAaC,MAAM,IACrD,EAAmBC,YAAkBH,EAAO,CAAEI,QAAS,OAAhDC,EAAP,oBACA,EAAkCT,IAAMU,SAAS,IAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KAEMC,EAAW,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DAClBD,EAAEE,iBADgB,EAEQ9B,EAAKO,YAAvBH,EAFU,EAEVA,IAAKC,EAFK,EAELA,SAFK,SAIZW,EAAYe,IAAI,CACpB5B,KAAMsB,EACNO,UAAW1C,EAASC,SAASoB,UAAUsB,WAAWC,kBAClD9B,MACAC,aARgB,OAUlBqB,EAAa,IACbb,EAAYsB,QAAQC,eAAe,CAAEC,SAAU,WAX7B,2CAAH,sDAcjB,OACE,qCACE,iCACGd,GACCA,EAASe,KAAI,SAACC,EAAKC,GAAN,OACX,cAAC,EAAD,CAEEtC,QAASqC,GADJE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAIK,GAAKJ,OAI/C,qBAAKK,IAAKhC,OAEZ,uBAAMiC,SAAUnB,EAAhB,UACE,uBACEoB,MAAOtB,EACPuB,YAAa,oBACbC,SAAU,SAACrB,GAAD,OAAOF,EAAaE,EAAEsB,OAAOH,UAEzC,wBAAQI,KAAK,SAASC,UAAW3B,EAAjC,iCC9CJzB,EAAOV,EAASC,SAASS,OAsBhBqD,EApBA,WAMX,OACE,sBAAK7C,UAAU,SAAf,UACE,wBAAQ8C,QAPa,WACvB,IAAMC,EAAW,IAAIjE,EAASC,SAASS,KAAKwD,mBAC5CxD,EAAKyD,gBAAgBF,IAKnB,iCAGA,wGAEE,uBACA,uBACF,+HCjBFvD,EAAOV,EAASC,SAASS,OAYd0D,EAVD,WACZ,OACE1D,EAAKO,aACH,wBAAQC,UAAU,UAAU8C,QAAS,kBAAMtD,EAAK2D,WAAhD,uB,QCEF3D,EAAOV,EAASC,SAASS,OAkBhB4D,EAfH,WACV,MAAeC,YAAa7D,GAArB8D,EAAP,oBAEA,OACE,sBAAKtD,UAAU,MAAf,UACE,mCACE,sEACCsD,GAAQ,cAAC,EAAD,OAEX,kCAAUA,EAAO,cAAC,EAAD,IAAe,cAAC,EAAD,UClBtCC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.3db7774c.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\n\nconst authFire = firebase.initializeApp({\n    apiKey: \"AIzaSyCHiUlklcQmzX8QACKeVv9_6JB3SAhOBpQ\",\n    authDomain: \"firechat-c6902.firebaseapp.com\",\n    projectId: \"firechat-c6902\",\n    storageBucket: \"firechat-c6902.appspot.com\",\n    messagingSenderId: \"743198984085\",\n    appId: \"1:743198984085:web:87b52605a6bb1e4ca3d89c\",\n    measurementId: \"G-1009D48LWS\",\n  });\n\n  export default authFire;","import React from \"react\";\nimport \"firebase/compat/auth\";\nimport authFire from \"../firebaseAuth\";\nconst auth = authFire.firebase.auth();\n\nconst ChatMessage = ({message}) => {\n    const { text, uid, photoURL } = message;\n    const messageClass = uid === auth.currentUser.uid ? \"sent\" : \"received\";\n    return (\n      <div className={`message ${messageClass}`}>\n        <img src={photoURL} alt={\"photo\"} />\n        <p>{text}</p>\n      </div>\n    );\n}\n\nexport default ChatMessage;","import React from \"react\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/analytics\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport authFire from \"../firebaseAuth\";\nimport ChatMessage from \"./ChatMessage\";\n\nconst auth = authFire.firebase.auth();\nconst firestore = authFire.firebase.firestore();\n\nconst ChatRoom = () => {\n    const scrollerRef = React.useRef();\n    const messagesRef = firestore.collection(\"messagesProd\");\n    const query = messagesRef.orderBy(\"createdAt\").limit(25);\n    const [messages] = useCollectionData(query, { idField: \"id\" });\n    const [formValue, setFormValue] = React.useState(\"\");\n  \n    const sendMessage = async (e) => {\n      e.preventDefault();\n      const { uid, photoURL } = auth.currentUser;\n  \n      await messagesRef.add({\n        text: formValue,\n        createdAt: authFire.firebase.firestore.FieldValue.serverTimestamp(),\n        uid,\n        photoURL,\n      });\n      setFormValue(\"\");\n      scrollerRef.current.scrollIntoView({ behavior: \"smooth\" });\n    };\n  \n    return (\n      <>\n        <main>\n          {messages &&\n            messages.map((msg, idx) => (\n              <ChatMessage\n                key={Math.floor(Math.random() * msg.id + idx)}\n                message={msg}\n              />\n            ))}\n          <div ref={scrollerRef} />\n        </main>\n        <form onSubmit={sendMessage}>\n          <input\n            value={formValue}\n            placeholder={\"say something....\"}\n            onChange={(e) => setFormValue(e.target.value)}\n          />\n          <button type=\"submit\" disabled={!formValue}>ğŸ”</button>\n        </form>\n      </>\n    );\n  };\n\n  export default ChatRoom;","import \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport authFire from \"../firebaseAuth\";\n\nconst auth = authFire.firebase.auth();\n\nconst SignIn = () => {\n    const signInWithGoogle = () => {\n      const provider = new authFire.firebase.auth.GoogleAuthProvider();\n      auth.signInWithPopup(provider);\n    };\n  \n    return (\n      <div className=\"signIn\">\n        <button onClick={signInWithGoogle}>\n          Sign in with Google\n        </button>\n        <p>\n          Do not violate the community guidelines or you will be banned for life!\n          <br/>\n          <br/>\n        <strong>A full stack web app created using react js âš›ï¸ and firebase ğŸ”¥</strong>\n        </p>\n      </div>\n    );\n  }\nexport default SignIn;","import \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport authFire from \"../firebaseAuth\";\n\nconst auth = authFire.firebase.auth();\n\nconst SignOut = () => {\n    return (\n      auth.currentUser && (\n        <button className=\"signOut\" onClick={() => auth.signOut()}>\n          Sign Out\n        </button>\n      )\n    );\n  }\n\n  export default SignOut;","import React  from \"react\";\nimport \"./App.css\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/analytics\";\nimport ChatRoom from \"./components/ChatRoom\";\nimport SignIn from \"./components/SignIn\";\nimport SignOut from \"./components/SignOut\";\nimport authFire from \"./firebaseAuth\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nconst auth = authFire.firebase.auth();\n\n\nconst App = () => {\n  const [user] = useAuthState(auth);\n\n  return (\n    <div className=\"App\">\n      <header>\n        <span>ğŸ”¥ ğŸ” FireChat</span>\n        {user && <SignOut />}\n      </header>\n      <section>{user ? <ChatRoom /> : <SignIn />}</section>\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}