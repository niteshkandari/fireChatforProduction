(this.webpackJsonpfirechat=this.webpackJsonpfirechat||[]).push([[0],{48:function(e,t,r){},49:function(e,t,r){},54:function(e,t,r){"use strict";r.r(t);var n=r(12),c=r.n(n),i=r(38),a=r.n(i),s=(r(48),r(15)),o=(r(49),r(30),r(28),r(37),r(0)),u=r.n(o),b=r(1),j=r(42),d=r(40).a.initializeApp({apiKey:"AIzaSyCHiUlklcQmzX8QACKeVv9_6JB3SAhOBpQ",authDomain:"firechat-c6902.firebaseapp.com",projectId:"firechat-c6902",storageBucket:"firechat-c6902.appspot.com",messagingSenderId:"743198984085",appId:"1:743198984085:web:87b52605a6bb1e4ca3d89c",measurementId:"G-1009D48LWS"}),l=r(14),h=d.firebase.auth(),f=function(e){var t=e.message,r=t.text,n=t.uid,c=t.photoURL,i=n===h.currentUser.uid?"sent":"received";return Object(l.jsxs)("div",{className:"message ".concat(i),children:[Object(l.jsx)("img",{src:c,alt:"photo"}),Object(l.jsx)("p",{children:r})]})},p=d.firebase.auth(),O=d.firebase.firestore(),m=function(){var e=c.a.useRef(),t=O.collection("messagesProd"),r=t.orderBy("createdAt").limit(25),n=Object(j.a)(r,{idField:"id"}),i=Object(s.a)(n,1)[0],a=c.a.useState(""),o=Object(s.a)(a,2),h=o[0],m=o[1],x=function(){var r=Object(b.a)(u.a.mark((function r(n){var c,i,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),c=p.currentUser,i=c.uid,a=c.photoURL,r.next=4,t.add({text:h,createdAt:d.firebase.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:a});case 4:m(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("main",{children:[i&&i.map((function(e,t){return Object(l.jsx)(f,{message:e},Math.floor(Math.random()*e.id+t))})),Object(l.jsx)("div",{ref:e})]}),Object(l.jsxs)("form",{onSubmit:x,children:[Object(l.jsx)("input",{value:h,placeholder:"say something....",onChange:function(e){return m(e.target.value)}}),Object(l.jsx)("button",{type:"submit",disabled:!h,children:"\ud83d\udc14"})]})]})},x=d.firebase.auth(),g=function(){return Object(l.jsxs)("div",{className:"signIn",children:[Object(l.jsx)("button",{onClick:function(){var e=new d.firebase.auth.GoogleAuthProvider;x.signInWithPopup(e)},children:"Sign in with Google"}),Object(l.jsxs)("p",{children:["Do not violate the community guidelines or you will be banned for life!",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"A full stack web app created using react js \u269b\ufe0f and firebase \ud83d\udd25"})]})]})},v=d.firebase.auth(),w=function(){return v.currentUser&&Object(l.jsx)("button",{className:"signOut",onClick:function(){return v.signOut()},children:"Sign Out"})},y=r(41),A=d.firebase.auth(),I=function(){var e=Object(y.a)(A),t=Object(s.a)(e,1)[0];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("span",{children:"\ud83d\udd25 \ud83d\udc14 FireChat"}),t&&Object(l.jsx)(w,{})]}),Object(l.jsx)("section",{children:t?Object(l.jsx)(m,{}):Object(l.jsx)(g,{})})]})};a.a.render(Object(l.jsx)(I,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.3db7774c.chunk.js.map